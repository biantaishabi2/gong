# Generated by bdd_compiler from /home/wangbo/document/gong/docs/bdd/thinking_edge.dsl. DO NOT EDIT.

defmodule Gong.BDD.Generated.ThinkingEdgeTest do
  use ExUnit.Case, async: false

  @moduletag :bdd_generated

  # Source: THINK-ERR-001
  @tag :thinking
  @tag :unit
  test "[THINK-ERR-001]" do
    run_id = Gong.BDD.Instructions.V1.new_run_id()
    ctx = %{run_id: run_id, scenario_id: "THINK-ERR-001"}
    # line 9: GIVEN create_temp_dir
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_dir, %{}, %{file: "/home/wangbo/document/gong/docs/bdd/thinking_edge.dsl", line: 9, raw: "GIVEN create_temp_dir"}, 9)
    # line 10: WHEN get_thinking_budget level="high"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :when, :get_thinking_budget, %{level: "high"}, %{file: "/home/wangbo/document/gong/docs/bdd/thinking_edge.dsl", line: 10, raw: "WHEN get_thinking_budget level=\"high\""}, 10)
    # line 11: THEN assert_thinking_budget expected=8192
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_thinking_budget, %{expected: 8192}, %{file: "/home/wangbo/document/gong/docs/bdd/thinking_edge.dsl", line: 11, raw: "THEN assert_thinking_budget expected=8192"}, 11)
    # line 12: THEN assert_max_tokens_ge_budget
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_max_tokens_ge_budget, %{}, %{file: "/home/wangbo/document/gong/docs/bdd/thinking_edge.dsl", line: 12, raw: "THEN assert_max_tokens_ge_budget"}, 12)
    _ctx = ctx
    :ok
  end

  # Source: THINK-ERR-002
  @tag :thinking
  @tag :unit
  test "[THINK-ERR-002] 各厂商 thinking 标记统一识别" do
    run_id = Gong.BDD.Instructions.V1.new_run_id()
    ctx = %{run_id: run_id, scenario_id: "THINK-ERR-002"}
    # line 15: GIVEN create_temp_dir
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_dir, %{}, %{file: "/home/wangbo/document/gong/docs/bdd/thinking_edge.dsl", line: 15, raw: "GIVEN create_temp_dir"}, 15)
    # line 16: WHEN thinking_to_provider level="high" provider="anthropic"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :when, :thinking_to_provider, %{level: "high", provider: "anthropic"}, %{file: "/home/wangbo/document/gong/docs/bdd/thinking_edge.dsl", line: 16, raw: "WHEN thinking_to_provider level=\"high\" provider=\"anthropic\""}, 16)
    # line 17: THEN assert_thinking_params contains="budget_tokens"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_thinking_params, %{contains: "budget_tokens"}, %{file: "/home/wangbo/document/gong/docs/bdd/thinking_edge.dsl", line: 17, raw: "THEN assert_thinking_params contains=\"budget_tokens\""}, 17)
    _ctx = ctx
    :ok
  end

  # Source: THINK-ERR-003
  @tag :thinking
  @tag :unit
  test "[THINK-ERR-003] thinking 级别持久化含 off 状态" do
    run_id = Gong.BDD.Instructions.V1.new_run_id()
    ctx = %{run_id: run_id, scenario_id: "THINK-ERR-003"}
    # line 20: GIVEN create_temp_dir
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_dir, %{}, %{file: "/home/wangbo/document/gong/docs/bdd/thinking_edge.dsl", line: 20, raw: "GIVEN create_temp_dir"}, 20)
    # line 21: WHEN parse_thinking_level str="off"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :when, :parse_thinking_level, %{str: "off"}, %{file: "/home/wangbo/document/gong/docs/bdd/thinking_edge.dsl", line: 21, raw: "WHEN parse_thinking_level str=\"off\""}, 21)
    # line 22: THEN assert_parsed_thinking_level expected="off"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_parsed_thinking_level, %{expected: "off"}, %{file: "/home/wangbo/document/gong/docs/bdd/thinking_edge.dsl", line: 22, raw: "THEN assert_parsed_thinking_level expected=\"off\""}, 22)
    _ctx = ctx
    :ok
  end

end
