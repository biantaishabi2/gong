# Generated by bdd_compiler from /home/wangbo/document/gong/docs/bdd/ls_action.dsl. DO NOT EDIT.

defmodule Gong.BDD.Generated.LsActionTest do
  use ExUnit.Case, async: false

  @moduletag :bdd_generated

  # Source: BDD-LS-001
  @tag :external_io
  @tag :unit
  test "[BDD-LS-001] 列出目录内容含类型后缀" do
    run_id = Gong.BDD.Instructions.V1.new_run_id()
    ctx = %{run_id: run_id, scenario_id: "BDD-LS-001"}
    # line 7: GIVEN create_temp_dir
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_dir, %{}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 7, raw: "GIVEN create_temp_dir"}, 7)
    # line 8: GIVEN create_temp_file path="file.txt" content="hello"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_file, %{content: "hello", path: "file.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 8, raw: "GIVEN create_temp_file path=\"file.txt\" content=\"hello\""}, 8)
    # line 9: GIVEN create_temp_file path="subdir/nested.txt" content="nested"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_file, %{content: "nested", path: "subdir/nested.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 9, raw: "GIVEN create_temp_file path=\"subdir/nested.txt\" content=\"nested\""}, 9)
    # line 10: WHEN tool_ls path=""
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :when, :tool_ls, %{path: ""}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 10, raw: "WHEN tool_ls path=\"\""}, 10)
    # line 11: THEN assert_tool_success content_contains="file.txt"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_tool_success, %{content_contains: "file.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 11, raw: "THEN assert_tool_success content_contains=\"file.txt\""}, 11)
    # line 12: THEN assert_output_contains text="subdir/"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_output_contains, %{text: "subdir/"}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 12, raw: "THEN assert_output_contains text=\"subdir/\""}, 12)
    _ctx = ctx
    :ok
  end

  # Source: BDD-LS-002
  @tag :external_io
  @tag :unit
  test "[BDD-LS-002] 空目录" do
    run_id = Gong.BDD.Instructions.V1.new_run_id()
    ctx = %{run_id: run_id, scenario_id: "BDD-LS-002"}
    # line 15: GIVEN create_temp_dir
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_dir, %{}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 15, raw: "GIVEN create_temp_dir"}, 15)
    # line 16: WHEN tool_ls path=""
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :when, :tool_ls, %{path: ""}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 16, raw: "WHEN tool_ls path=\"\""}, 16)
    # line 17: THEN assert_tool_success
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_tool_success, %{}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 17, raw: "THEN assert_tool_success"}, 17)
    _ctx = ctx
    :ok
  end

  # Source: BDD-LS-003
  @tag :external_io
  @tag :unit
  test "[BDD-LS-003] 排序验证" do
    run_id = Gong.BDD.Instructions.V1.new_run_id()
    ctx = %{run_id: run_id, scenario_id: "BDD-LS-003"}
    # line 20: GIVEN create_temp_dir
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_dir, %{}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 20, raw: "GIVEN create_temp_dir"}, 20)
    # line 21: GIVEN create_temp_file path="zebra.txt" content=""
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_file, %{content: "", path: "zebra.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 21, raw: "GIVEN create_temp_file path=\"zebra.txt\" content=\"\""}, 21)
    # line 22: GIVEN create_temp_file path="apple.txt" content=""
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_file, %{content: "", path: "apple.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 22, raw: "GIVEN create_temp_file path=\"apple.txt\" content=\"\""}, 22)
    # line 23: GIVEN create_temp_file path="banana.txt" content=""
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_file, %{content: "", path: "banana.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 23, raw: "GIVEN create_temp_file path=\"banana.txt\" content=\"\""}, 23)
    # line 24: WHEN tool_ls path=""
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :when, :tool_ls, %{path: ""}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 24, raw: "WHEN tool_ls path=\"\""}, 24)
    # line 25: THEN assert_tool_success content_contains="apple.txt"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_tool_success, %{content_contains: "apple.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 25, raw: "THEN assert_tool_success content_contains=\"apple.txt\""}, 25)
    _ctx = ctx
    :ok
  end

  # Source: BDD-LS-004
  @tag :external_io
  @tag :unit
  test "[BDD-LS-004] 路径是文件" do
    run_id = Gong.BDD.Instructions.V1.new_run_id()
    ctx = %{run_id: run_id, scenario_id: "BDD-LS-004"}
    # line 30: GIVEN create_temp_dir
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_dir, %{}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 30, raw: "GIVEN create_temp_dir"}, 30)
    # line 31: GIVEN create_temp_file path="afile.txt" content="not a dir"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_file, %{content: "not a dir", path: "afile.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 31, raw: "GIVEN create_temp_file path=\"afile.txt\" content=\"not a dir\""}, 31)
    # line 32: WHEN tool_ls path="afile.txt"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :when, :tool_ls, %{path: "afile.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 32, raw: "WHEN tool_ls path=\"afile.txt\""}, 32)
    # line 33: THEN assert_tool_error error_contains="Not a directory"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_tool_error, %{error_contains: "Not a directory"}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 33, raw: "THEN assert_tool_error error_contains=\"Not a directory\""}, 33)
    _ctx = ctx
    :ok
  end

  # Source: BDD-LS-005
  @tag :external_io
  @tag :unit
  test "[BDD-LS-005] 路径不存在" do
    run_id = Gong.BDD.Instructions.V1.new_run_id()
    ctx = %{run_id: run_id, scenario_id: "BDD-LS-005"}
    # line 36: GIVEN create_temp_dir
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_dir, %{}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 36, raw: "GIVEN create_temp_dir"}, 36)
    # line 37: WHEN tool_ls path="nonexistent_dir"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :when, :tool_ls, %{path: "nonexistent_dir"}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 37, raw: "WHEN tool_ls path=\"nonexistent_dir\""}, 37)
    # line 38: THEN assert_tool_error error_contains="ENOENT"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_tool_error, %{error_contains: "ENOENT"}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 38, raw: "THEN assert_tool_error error_contains=\"ENOENT\""}, 38)
    _ctx = ctx
    :ok
  end

  # Source: BDD-LS-006
  @tag :external_io
  @tag :unit
  test "[BDD-LS-006] 隐藏文件可见" do
    run_id = Gong.BDD.Instructions.V1.new_run_id()
    ctx = %{run_id: run_id, scenario_id: "BDD-LS-006"}
    # line 41: GIVEN create_temp_dir
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_dir, %{}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 41, raw: "GIVEN create_temp_dir"}, 41)
    # line 42: GIVEN create_temp_file path=".hidden" content="secret"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_file, %{content: "secret", path: ".hidden"}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 42, raw: "GIVEN create_temp_file path=\".hidden\" content=\"secret\""}, 42)
    # line 43: GIVEN create_temp_file path="visible.txt" content="public"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_file, %{content: "public", path: "visible.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 43, raw: "GIVEN create_temp_file path=\"visible.txt\" content=\"public\""}, 43)
    # line 44: WHEN tool_ls path=""
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :when, :tool_ls, %{path: ""}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 44, raw: "WHEN tool_ls path=\"\""}, 44)
    # line 45: THEN assert_tool_success content_contains=".hidden"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_tool_success, %{content_contains: ".hidden"}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 45, raw: "THEN assert_tool_success content_contains=\".hidden\""}, 45)
    # line 46: THEN assert_output_contains text="visible.txt"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_output_contains, %{text: "visible.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 46, raw: "THEN assert_output_contains text=\"visible.txt\""}, 46)
    _ctx = ctx
    :ok
  end

  # Source: BDD-LS-007
  @tag :external_io
  @tag :unit
  test "[BDD-LS-007] 大小格式化" do
    run_id = Gong.BDD.Instructions.V1.new_run_id()
    ctx = %{run_id: run_id, scenario_id: "BDD-LS-007"}
    # line 51: GIVEN create_temp_dir
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_dir, %{}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 51, raw: "GIVEN create_temp_dir"}, 51)
    # line 52: GIVEN create_temp_file path="small.txt" content="abc"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_file, %{content: "abc", path: "small.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 52, raw: "GIVEN create_temp_file path=\"small.txt\" content=\"abc\""}, 52)
    # line 53: WHEN tool_ls path=""
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :when, :tool_ls, %{path: ""}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 53, raw: "WHEN tool_ls path=\"\""}, 53)
    # line 54: THEN assert_tool_success content_contains="3B"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_tool_success, %{content_contains: "3B"}, %{file: "/home/wangbo/document/gong/docs/bdd/ls_action.dsl", line: 54, raw: "THEN assert_tool_success content_contains=\"3B\""}, 54)
    _ctx = ctx
    :ok
  end

end
