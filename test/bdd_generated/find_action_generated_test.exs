# Generated by bdd_compiler from /home/wangbo/document/gong/docs/bdd/find_action.dsl. DO NOT EDIT.

defmodule Gong.BDD.Generated.FindActionTest do
  use ExUnit.Case, async: false

  @moduletag :bdd_generated

  # Source: BDD-FIND-001
  @tag :external_io
  @tag :unit
  test "[BDD-FIND-001] 含隐藏文件" do
    run_id = Gong.BDD.Instructions.V1.new_run_id()
    ctx = %{run_id: run_id, scenario_id: "BDD-FIND-001"}
    # line 7: GIVEN create_temp_dir
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_dir, %{}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 7, raw: "GIVEN create_temp_dir"}, 7)
    # line 8: GIVEN create_temp_file path=".secret/hidden.txt" content="hidden"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_file, %{content: "hidden", path: ".secret/hidden.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 8, raw: "GIVEN create_temp_file path=\".secret/hidden.txt\" content=\"hidden\""}, 8)
    # line 9: GIVEN create_temp_file path="visible.txt" content="visible"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_file, %{content: "visible", path: "visible.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 9, raw: "GIVEN create_temp_file path=\"visible.txt\" content=\"visible\""}, 9)
    # line 10: WHEN tool_find pattern="**/*.txt"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :when, :tool_find, %{pattern: "**/*.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 10, raw: "WHEN tool_find pattern=\"**/*.txt\""}, 10)
    # line 11: THEN assert_tool_success content_contains="visible.txt"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_tool_success, %{content_contains: "visible.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 11, raw: "THEN assert_tool_success content_contains=\"visible.txt\""}, 11)
    # line 12: THEN assert_output_contains text="hidden.txt"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_output_contains, %{text: "hidden.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 12, raw: "THEN assert_output_contains text=\"hidden.txt\""}, 12)
    _ctx = ctx
    :ok
  end

  # Source: BDD-FIND-002
  @tag :external_io
  @tag :unit
  test "[BDD-FIND-002] 嵌套 glob 模式" do
    run_id = Gong.BDD.Instructions.V1.new_run_id()
    ctx = %{run_id: run_id, scenario_id: "BDD-FIND-002"}
    # line 15: GIVEN create_temp_dir
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_dir, %{}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 15, raw: "GIVEN create_temp_dir"}, 15)
    # line 16: GIVEN create_temp_file path="a/b/deep.ex" content=""
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_file, %{content: "", path: "a/b/deep.ex"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 16, raw: "GIVEN create_temp_file path=\"a/b/deep.ex\" content=\"\""}, 16)
    # line 17: GIVEN create_temp_file path="top.ex" content=""
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_file, %{content: "", path: "top.ex"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 17, raw: "GIVEN create_temp_file path=\"top.ex\" content=\"\""}, 17)
    # line 18: WHEN tool_find pattern="**/*.ex"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :when, :tool_find, %{pattern: "**/*.ex"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 18, raw: "WHEN tool_find pattern=\"**/*.ex\""}, 18)
    # line 19: THEN assert_tool_success content_contains="deep.ex"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_tool_success, %{content_contains: "deep.ex"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 19, raw: "THEN assert_tool_success content_contains=\"deep.ex\""}, 19)
    # line 20: THEN assert_output_contains text="top.ex"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_output_contains, %{text: "top.ex"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 20, raw: "THEN assert_output_contains text=\"top.ex\""}, 20)
    _ctx = ctx
    :ok
  end

  # Source: BDD-FIND-003
  @tag :external_io
  @tag :unit
  test "[BDD-FIND-003] 空结果" do
    run_id = Gong.BDD.Instructions.V1.new_run_id()
    ctx = %{run_id: run_id, scenario_id: "BDD-FIND-003"}
    # line 23: GIVEN create_temp_dir
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_dir, %{}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 23, raw: "GIVEN create_temp_dir"}, 23)
    # line 24: GIVEN create_temp_file path="test.txt" content=""
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_file, %{content: "", path: "test.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 24, raw: "GIVEN create_temp_file path=\"test.txt\" content=\"\""}, 24)
    # line 25: WHEN tool_find pattern="*.xyz"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :when, :tool_find, %{pattern: "*.xyz"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 25, raw: "WHEN tool_find pattern=\"*.xyz\""}, 25)
    # line 26: THEN assert_tool_success
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_tool_success, %{}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 26, raw: "THEN assert_tool_success"}, 26)
    # line 27: THEN assert_output_not_contains text=".txt"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_output_not_contains, %{text: ".txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 27, raw: "THEN assert_output_not_contains text=\".txt\""}, 27)
    _ctx = ctx
    :ok
  end

  # Source: BDD-FIND-004
  @tag :external_io
  @tag :unit
  test "[BDD-FIND-004] 排除模式" do
    run_id = Gong.BDD.Instructions.V1.new_run_id()
    ctx = %{run_id: run_id, scenario_id: "BDD-FIND-004"}
    # line 32: GIVEN create_temp_dir
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_dir, %{}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 32, raw: "GIVEN create_temp_dir"}, 32)
    # line 33: GIVEN create_temp_file path="keep.txt" content=""
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_file, %{content: "", path: "keep.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 33, raw: "GIVEN create_temp_file path=\"keep.txt\" content=\"\""}, 33)
    # line 34: GIVEN create_temp_file path="ignore.log" content=""
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_file, %{content: "", path: "ignore.log"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 34, raw: "GIVEN create_temp_file path=\"ignore.log\" content=\"\""}, 34)
    # line 35: WHEN tool_find pattern="*" exclude="*.log"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :when, :tool_find, %{exclude: "*.log", pattern: "*"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 35, raw: "WHEN tool_find pattern=\"*\" exclude=\"*.log\""}, 35)
    # line 36: THEN assert_tool_success content_contains="keep.txt"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_tool_success, %{content_contains: "keep.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 36, raw: "THEN assert_tool_success content_contains=\"keep.txt\""}, 36)
    # line 37: THEN assert_output_not_contains text="ignore.log"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_output_not_contains, %{text: "ignore.log"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 37, raw: "THEN assert_output_not_contains text=\"ignore.log\""}, 37)
    _ctx = ctx
    :ok
  end

  # Source: BDD-FIND-005
  @tag :external_io
  @tag :unit
  test "[BDD-FIND-005] 结果数限制" do
    run_id = Gong.BDD.Instructions.V1.new_run_id()
    ctx = %{run_id: run_id, scenario_id: "BDD-FIND-005"}
    # line 40: GIVEN create_temp_dir
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_dir, %{}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 40, raw: "GIVEN create_temp_dir"}, 40)
    # line 41: GIVEN create_temp_file path="a.txt" content=""
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_file, %{content: "", path: "a.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 41, raw: "GIVEN create_temp_file path=\"a.txt\" content=\"\""}, 41)
    # line 42: GIVEN create_temp_file path="b.txt" content=""
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_file, %{content: "", path: "b.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 42, raw: "GIVEN create_temp_file path=\"b.txt\" content=\"\""}, 42)
    # line 43: GIVEN create_temp_file path="c.txt" content=""
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_file, %{content: "", path: "c.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 43, raw: "GIVEN create_temp_file path=\"c.txt\" content=\"\""}, 43)
    # line 44: WHEN tool_find pattern="*.txt" limit=2
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :when, :tool_find, %{limit: 2, pattern: "*.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 44, raw: "WHEN tool_find pattern=\"*.txt\" limit=2"}, 44)
    # line 45: THEN assert_tool_success content_contains="Showing 2 of 3"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_tool_success, %{content_contains: "Showing 2 of 3"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 45, raw: "THEN assert_tool_success content_contains=\"Showing 2 of 3\""}, 45)
    _ctx = ctx
    :ok
  end

  # Source: BDD-FIND-006
  @tag :external_io
  @tag :unit
  test "[BDD-FIND-006] 符号链接" do
    run_id = Gong.BDD.Instructions.V1.new_run_id()
    ctx = %{run_id: run_id, scenario_id: "BDD-FIND-006"}
    # line 48: GIVEN create_temp_dir
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_dir, %{}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 48, raw: "GIVEN create_temp_dir"}, 48)
    # line 49: GIVEN create_temp_file path="real.txt" content="target"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_file, %{content: "target", path: "real.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 49, raw: "GIVEN create_temp_file path=\"real.txt\" content=\"target\""}, 49)
    # line 50: GIVEN create_symlink link="link.txt" target="real.txt"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_symlink, %{link: "link.txt", target: "real.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 50, raw: "GIVEN create_symlink link=\"link.txt\" target=\"real.txt\""}, 50)
    # line 51: WHEN tool_find pattern="*.txt"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :when, :tool_find, %{pattern: "*.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 51, raw: "WHEN tool_find pattern=\"*.txt\""}, 51)
    # line 52: THEN assert_tool_success content_contains="link.txt"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_tool_success, %{content_contains: "link.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 52, raw: "THEN assert_tool_success content_contains=\"link.txt\""}, 52)
    _ctx = ctx
    :ok
  end

  # Source: BDD-FIND-007
  @tag :external_io
  @tag :unit
  test "[BDD-FIND-007] 路径不存在" do
    run_id = Gong.BDD.Instructions.V1.new_run_id()
    ctx = %{run_id: run_id, scenario_id: "BDD-FIND-007"}
    # line 57: GIVEN create_temp_dir
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_dir, %{}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 57, raw: "GIVEN create_temp_dir"}, 57)
    # line 58: WHEN tool_find pattern="*.txt" path="nonexistent"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :when, :tool_find, %{path: "nonexistent", pattern: "*.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 58, raw: "WHEN tool_find pattern=\"*.txt\" path=\"nonexistent\""}, 58)
    # line 59: THEN assert_tool_error error_contains="ENOENT"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_tool_error, %{error_contains: "ENOENT"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 59, raw: "THEN assert_tool_error error_contains=\"ENOENT\""}, 59)
    _ctx = ctx
    :ok
  end

  # Source: BDD-FIND-008
  @tag :external_io
  @tag :unit
  test "[BDD-FIND-008] 尊重 .gitignore" do
    run_id = Gong.BDD.Instructions.V1.new_run_id()
    ctx = %{run_id: run_id, scenario_id: "BDD-FIND-008"}
    # line 64: GIVEN create_temp_dir
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_dir, %{}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 64, raw: "GIVEN create_temp_dir"}, 64)
    # line 65: GIVEN create_temp_file path=".gitignore" content="*.log\nbuild/\n"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_file, %{content: "*.log\\nbuild/\\n", path: ".gitignore"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 65, raw: "GIVEN create_temp_file path=\".gitignore\" content=\"*.log\\nbuild/\\n\""}, 65)
    # line 66: GIVEN create_temp_file path="keep.txt" content=""
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_file, %{content: "", path: "keep.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 66, raw: "GIVEN create_temp_file path=\"keep.txt\" content=\"\""}, 66)
    # line 67: GIVEN create_temp_file path="debug.log" content=""
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_file, %{content: "", path: "debug.log"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 67, raw: "GIVEN create_temp_file path=\"debug.log\" content=\"\""}, 67)
    # line 68: GIVEN create_temp_file path="build/output.js" content=""
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_file, %{content: "", path: "build/output.js"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 68, raw: "GIVEN create_temp_file path=\"build/output.js\" content=\"\""}, 68)
    # line 69: WHEN tool_find pattern="**/*"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :when, :tool_find, %{pattern: "**/*"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 69, raw: "WHEN tool_find pattern=\"**/*\""}, 69)
    # line 70: THEN assert_tool_success content_contains="keep.txt"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_tool_success, %{content_contains: "keep.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 70, raw: "THEN assert_tool_success content_contains=\"keep.txt\""}, 70)
    # line 71: THEN assert_output_not_contains text="debug.log"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_output_not_contains, %{text: "debug.log"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 71, raw: "THEN assert_output_not_contains text=\"debug.log\""}, 71)
    # line 72: THEN assert_output_not_contains text="output.js"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_output_not_contains, %{text: "output.js"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 72, raw: "THEN assert_output_not_contains text=\"output.js\""}, 72)
    _ctx = ctx
    :ok
  end

  # Source: BDD-FIND-009
  @tag :external_io
  @tag :unit
  test "[BDD-FIND-009] 深层嵌套查找" do
    run_id = Gong.BDD.Instructions.V1.new_run_id()
    ctx = %{run_id: run_id, scenario_id: "BDD-FIND-009"}
    # line 77: GIVEN create_temp_dir
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_dir, %{}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 77, raw: "GIVEN create_temp_dir"}, 77)
    # line 78: GIVEN create_temp_file path="a/b/c/d/deep.txt" content="deep"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :given, :create_temp_file, %{content: "deep", path: "a/b/c/d/deep.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 78, raw: "GIVEN create_temp_file path=\"a/b/c/d/deep.txt\" content=\"deep\""}, 78)
    # line 79: WHEN tool_find pattern="**/*.txt"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :when, :tool_find, %{pattern: "**/*.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 79, raw: "WHEN tool_find pattern=\"**/*.txt\""}, 79)
    # line 80: THEN assert_tool_success content_contains="deep.txt"
    ctx = Gong.BDD.Instructions.V1.run_step!(ctx, :then, :assert_tool_success, %{content_contains: "deep.txt"}, %{file: "/home/wangbo/document/gong/docs/bdd/find_action.dsl", line: 80, raw: "THEN assert_tool_success content_contains=\"deep.txt\""}, 80)
    _ctx = ctx
    :ok
  end

end
